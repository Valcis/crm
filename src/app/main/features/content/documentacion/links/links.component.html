<div>
  <div>
    <div>
      <h5>{{ 'LINKS.FORM-TITLE' | translate}}</h5>
    </div>
    <div >
      <div class="card rounded-0 mx-4 my-4" style="width: 96%">
        <div class="card-content">
          <div class="card rounded-0 mx-4 mt-3">
            <div class="card-title mt-1 border-bottom">
              <div class="mx-3 my-3">{{ 'LINKS.CRITERIA' | translate}}</div>
            </div>

            <div class="card-content  mx-3 my-3">
              <form [formGroup]="linkForm" (submit)="getLinks()">
                <div class="row">
                  <div class="col-sm-3">
                    <label>{{ 'LINKS.TYPE' | translate}}</label>
                    <select class="form-select rounded-0" formControlName="categoria" >
                      <option [value]="types[0].k" >{{types[0].v | translate}}</option>
                      <option [value]="types[1].k">{{types[1].v | translate}}</option>
                      <option [value]="types[2].k" >{{types[2].v | translate}}</option>
                    </select>
                  </div>
                  <div class="col-sm-3">
                    <label>{{ 'LINKS.DESCRIPTION' | translate}}</label>
                    <input type="text" class="form-control" formControlName="descripcion">
                  </div>
                  <div class="col-sm-6">
                    <label>{{ 'LINKS.LINK' | translate}}</label>
                    <input type="text" class="form-control" formControlName="link">
                  </div>
                </div>
                <div class ="row">
                  <div class="">
                    <div>&nbsp;</div>
                    <button type="submit" class="btn btn-search" style="float: right;" ><i class="fa fa-search"></i> {{'LINKS.SEARCH'|translate}} </button>
                  </div>
                </div>
              </form>
            </div>
          </div>

          <div class="card rounded-0 mx-4 mt-4 mb-5">
            <div class="card-title border-bottom">
              <div class="table-title mx-3 my4" >
                <div class=" my-3" >{{counter}} {{'LINKS.RESULTS'|translate}}</div>
                  <div class="justify-content-md-end-me-2 me-2 my-1" style="margin-left: auto">
                    <button type="button" class="btn btn-add btn-sm mt-1" (click)="open(newLink)"><i class="fa fa-plus"></i></button>
                  </div>
              </div>
            </div>

            <div class="card-content mx-3 my-2 mb-5">
              <div>
                <table class="mx-2 table table-bordered" >
                  <tr style="background-color: #f4f4f5">
                    <th> {{'LINKS.TYPE'|translate}}</th>
                    <th> {{'LINKS.DESCRIPTION'|translate}}</th>
                    <th> {{'LINKS.LINK'|translate}}</th>
                    <th style="width:100px; "></th>
                  </tr>
                  <tr *ngFor="let element of rowData  | slice: (currentPage-1) * pageSize : currentPage * pageSize" >
                    <td><span [innerHTML]="element.c"></span></td>
                    <td><a style="text-decoration:none"  href="{{element.link}}" [innerHTML]="element.description"></a></td>
                    <td><span [innerHTML]="element.name"></span></td>
                    <div class="btn-group dropdown">
                      <button class="btn btn-danger  btn-sm mx-2 my-2"  [value]="element.value" (click)="deleteLinks(element.value)"><i class="fa fa-trash-o"></i> {{'LINKS.DELETE' | translate}}</button>
                    </div>
                    </tr>
                </table>

                <ngb-pagination *ngIf="!(counter<=pageSize)" class="d-flex justify-content-end" [collectionSize]="counter" [pageSize]="pageSize" [(page)]="currentPage" size="sm" >
                  <ng-template ngbPaginationPrevious><</ng-template>
                  <ng-template ngbPaginationNext>></ng-template>
                </ngb-pagination>
              </div>
            </div>
          </div>
        </div>
      </div>
    </div>

    <ng-template #newLink let-modal style="border-radius: 1px;" class="modal-lg">
      <div class="modal-header rounded-0">
        <button type="button" class="close row" data-bs-dismiss="modal" (click)="modal.dismiss('close')">
          <span aria-hidden="true">Ã—</span>
          <span class="sr-only ">Close</span></button>
        <h4 class="modal-title " style="text-align: center">{{'LINKS.NEW' | translate }}</h4>
      </div>

      <div class="modal-body" style="border-radius: 0px;">
        <form class="mt-2 mb-3 mx-3" [formGroup]="newForm">
          <div class="row">
            <div class="col-sm-3">
              <small>{{ 'LINKS.TYPE' | translate}}</small>
              <select class="form-select rounded-0" formControlName="categoria"  >
                <option [value]="types[0].k" >{{types[0].v | translate}}</option>
                <option [value]="types[1].k">{{types[1].v | translate}}</option>
                <option [value]="types[2].k" >{{types[2].v | translate}}</option>
              </select>
            </div>
            <div class="col-sm-9">
              <small>{{ 'LINKS.DESCRIPTION' | translate}}</small>
              <input type="text" class="form-control" formControlName="descripcion">
            </div>
          </div>
          <div class="row">
            <div class="col-sm-12">
              <small>{{ 'LINKS.LINK' | translate}}</small>
              <div class="input-group flex-nowrap">
                <span class="input-group-text " style="border-radius: 1px;">http://</span>
                <input type="text" class="form-control" formControlName="link">
              </div>

            </div>
          </div>
          <div class="modal-footer">
            <button class="btn btn-danger" data-bs-dismiss="modal" (click)="modal.dismiss('close')">{{'LINKS.CLOSE' | translate}}</button>
            <button type="submit" class="btn btn-primary" (click)="createLink()" ><i class="fa fa-plus"> </i>{{'LINKS.CREATE' | translate}}</button>
          </div>
        </form>
      </div>
    </ng-template>
  </div>
</div>
